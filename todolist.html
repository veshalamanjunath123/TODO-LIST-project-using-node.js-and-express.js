<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Todo App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5">
  <div class="card p-4">
    <h3 class="text-center">Todo List</h3>

    <div class="input-group mb-3">
      <input id="todo-input" type="text" class="form-control" placeholder="Enter task">
      <button class="btn btn-primary" onclick="addTodo()">Add</button>
    </div>

    <ul id="todo-list" class="list-group"></ul>
  </div>
</div>

<script>
  let todos = [];

  function renderTodos() {
    const list = document.getElementById('todo-list');
    list.innerHTML = '';
    todos.forEach(todo => {
      const li = document.createElement('li');
      li.className = 'list-group-item';
      li.textContent = todo;
      list.appendChild(li);
    });
  }

  function addTodo() {
    const input = document.getElementById('todo-input');
    const text = input.value.trim();

    if (!text) return alert('Enter a task');

    fetch('http://localhost:3000/add-item', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        itemDescription: text
      })
    })
    .then(res => res.text())
    .then(() => {
      todos.push(text);
      renderTodos();
      input.value = '';
    })
    .catch(err => console.error(err));
  }
</script>

</body>
</html>
